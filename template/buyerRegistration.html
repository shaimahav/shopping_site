{% extends 'base 1.html' %}
{% block content%}
	<script src="/static/jquery-1.8.3.min.js"></script>
	<script>
		$(document).ready(function(){
						$("#username").change(function(){
									var username=$("#username").val();
									$.ajax({
										url:"{% url 'checkUsername' %}",
										data:{'data':username},
										success:function(data){
													if(data.valid=="exist"){
																alert("Usernmame already exist");
																$("#username").val(' ')
															}
																
												}
									         })
								      })
				})
	</script>
	<script type="text/javascript">
		function validation()
			{
				var alpha=/^[a-zA-Z]+$/;
				var num=/^[0-9]+$/;
				var name=document.getElementById("name");
				var gender=document.buyerregisterform.gender;
				var dob=document.getElementById("dob");
				var country=document.getElementById("country");
				var phone=document.getElementById("phone");
				var address=document.getElementById("address");
				var username=document.getElementById("username");
				var password=document.getElementById("password");
				if(name.value.length==0)
				{
					alert("Enter name");
					name.focus();
					return false;
				}
				else if(!name.value.match(alpha))
				{
					alert("Enter a valid name")
					name.focus();
					return false;
				}
				else if(gender[0].checked == false && gender[1] .checked== false)
				{
					alert("Enter the gender")
					gender.focus();
					return false();
				}
				else if(dob.value.length==0)
				{
					alert("Enter the date of birth");
					dob.focus();
					return false;
				}
				else if(country.value.length==0)
				{
					alert("Enter the country");
					country.focus();
					return false;
				}
				else if(phone.value.length==0)
				{
					alert("Enter phone number")
					phone.focus();
					return false;
				}
				else if(!phone.value.match(num))
				{
					alert("Enter valid  phone number")
					phone.focus();
					return false;
				}
				else if(address.value.length==0)
				{
					alert("Enter address");
					address.focus();
					return false;
				}
				else if(username.value.length==0)
				{
					alert("Enter username")
					username.focus();
					return false;
				}
				else if(password.value.length==0)
				{
					alert("Enter the password");
					password.focus();
					return false;
				}
				else
				{
					return true;
				}

			}
	</script>
	 <div class="col-lg-8 mt-5 mt-lg-0">

           <form method="post" action="{% url 'registerAction' %}" name="buyerregisterform">
		{% csrf_token %}
              <div class="row">
                <div class="col-md-6 form-group">
                  <input type="text" name="name" class="form-control" id="name" placeholder="Your Name" required>
                </div>
                   <div class="col-md-6 form-group" style="color:white;font-weight:bold;font-size:20px">
                	<input type="radio" name="gender" value="male">MALE
		 <input type="radio" name="gender" value="female">FEMALE			
                </div>
            
              </div>
	   <div class="form-group mt-3">
	<div class="row">
			<div class="col-md-6 form-group">
                             		<input type="date" class="form-control" name="dob" id="dob" >
              			</div>
	               		<div class="col-md-6 form-group mt-3 mt-md-0">
                  			<select name="country" id="country" class="form-control" >
				<option value="">------country------</option>
				<option value="india">India</option>
				<option value="canada">Canada</option>
				</select>
			</div>
                </div>
	</div>
	  <div class="form-group mt-3">
                <input type="text" class="form-control" name="phone" id="phone" placeholder="phone" >
              </div>
              <div class="form-group mt-3">
                <textarea class="form-control" name="address" rows="5" placeholder="address" ></textarea>
              </div>
               <div class="form-group mt-3">
                <input type="text" class="form-control" name="username" id="username" placeholder="username">
              </div>
  	<div class="form-group mt-3">
                <input type="password" class="form-control" name="password" id="password" placeholder="password">
              </div>
	 <div class="form-group mt-3">
              <div class="text-center"><button type="submit" onclick="return validation()">register</button></div>
	</div>
            </form>

          </div>

	
{% if messages %}
	{% for msg in messages %}
		<script>
			alert('{{msg}}')
		</script>
	{% endfor %}
{% endif %}
{% endblock %}